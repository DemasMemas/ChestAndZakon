{% extends "base.html" %}

{% block title %}–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å{% endblock %}

{% block content %}
<h1>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h1>

<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; margin-top: 30px;">
    <!-- –ë–ª–æ–∫ –Ω–æ–≤–æ—Å—Ç–µ–π -->
    <div style="border: 1px solid #ddd; padding: 20px; border-radius: 5px;">
        <h2 style="color: #007bff; margin-top: 0;">üì∞ –ù–æ–≤–æ—Å—Ç–∏</h2>
        <ul style="list-style: none; padding: 0;">
            <li style="margin-bottom: 10px;">
                <a href="{{ url_for('add_news') }}" style="display: block; padding: 10px; background: #28a745; color: white; text-decoration: none; border-radius: 3px; text-align: center;">
                    ‚úèÔ∏è –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ—Å—Ç—å
                </a>
            </li>
            <li style="margin-bottom: 10px;">
                <a href="{{ url_for('news') }}" style="display: block; padding: 10px; background: #17a2b8; color: white; text-decoration: none; border-radius: 3px; text-align: center;">
                    üìã –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç—è–º–∏ ({{ News.query.count() }})
                </a>
            </li>
        </ul>
    </div>

    <!-- –ë–ª–æ–∫ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π -->
    <div style="border: 1px solid #ddd; padding: 20px; border-radius: 5px;">
        <h2 style="color: #dc3545; margin-top: 0;">üé™ –ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</h2>
        <ul style="list-style: none; padding: 0;">
            <li style="margin-bottom: 10px;">
                <a href="{{ url_for('add_event') }}" style="display: block; padding: 10px; background: #28a745; color: white; text-decoration: none; border-radius: 3px; text-align: center;">
                    ‚úèÔ∏è –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ
                </a>
            </li>
            <li style="margin-bottom: 10px;">
                <a href="{{ url_for('events') }}" style="display: block; padding: 10px; background: #17a2b8; color: white; text-decoration: none; border-radius: 3px; text-align: center;">
                    üìã –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è–º–∏ ({{ Event.query.count() }})
                </a>
            </li>
        </ul>
    </div>
</div>

{% if current_user.is_admin %}
<!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ -->
<div style="margin-top: 30px; border: 1px solid #ddd; padding: 20px; border-radius: 5px;">
    <h2 style="color: #ffc107; margin-top: 0;">üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</h2>
    <a href="{{ url_for('register') }}" style="display: inline-block; padding: 10px 20px; background: #6f42c1; color: white; text-decoration: none; border-radius: 3px;">
        üë§ –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    </a>
</div>
{% endif %}

<!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
<div style="margin-top: 30px; padding: 20px; background: #f8f9fa; border-radius: 5px;">
    <h3 style="margin-top: 0;">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
        <div style="text-align: center; padding: 15px; background: white; border-radius: 5px;">
            <div style="font-size: 24px; font-weight: bold; color: #007bff;">{{ News.query.count() }}</div>
            <div>–ù–æ–≤–æ—Å—Ç–µ–π</div>
        </div>
        <div style="text-align: center; padding: 15px; background: white; border-radius: 5px;">
            <div style="font-size: 24px; font-weight: bold; color: #dc3545;">{{ Event.query.count() }}</div>
            <div>–ú–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π</div>
        </div>
        <div style="text-align: center; padding: 15px; background: white; border-radius: 5px;">
            <div style="font-size: 24px; font-weight: bold; color: #28a745;">{{ Comment.query.count() }}</div>
            <div>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤</div>
        </div>
        <div style="text-align: center; padding: 15px; background: white; border-radius: 5px;">
            <div style="font-size: 24px; font-weight: bold; color: #6f42c1;">{{ Event.query.filter(Event.event_date >= now).count() }}</div>
            <div>–ü—Ä–µ–¥—Å—Ç–æ—è—â–∏—Ö –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π</div>
        </div>
    </div>
</div>

<!-- –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è -->
<div style="margin-top: 30px;">
    <h3>‚ö° –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h3>
    <div style="display: flex; gap: 10px; flex-wrap: wrap;">
        <a href="{{ url_for('add_news') }}" class="quick-action">üìù –ù–æ–≤–∞—è –Ω–æ–≤–æ—Å—Ç—å</a>
        <a href="{{ url_for('add_event') }}" class="quick-action">üé™ –ù–æ–≤–æ–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–µ</a>
        <a href="{{ url_for('news') }}" class="quick-action">üì∞ –í—Å–µ –Ω–æ–≤–æ—Å—Ç–∏</a>
        <a href="{{ url_for('events') }}" class="quick-action">üìÖ –í—Å–µ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è</a>
    </div>
</div>

<style>
.quick-action {
    padding: 8px 15px;
    background: #6c757d;
    color: white;
    text-decoration: none;
    border-radius: 3px;
    font-size: 14px;
}
.quick-action:hover {
    background: #5a6268;
}
</style>
{% endblock %}